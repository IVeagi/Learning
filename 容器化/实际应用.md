# 一  drain  节点排水 和 节点亲和性
  recommend应用普通deployment部署时候，延时较高 想通过在一个固定节点上测试，同时这个节点需要排除其他的pod来保证性能可靠
   1. 设置node1  drain 排除所有的现有pod （某些DS之类的忽略，也无法排除）
   2. 设置node1 标签如 test_app= recommend 
   3. 此应用的deployment 设置node affinity 选定标签为test_app =recommend  使用 requiredDurningScheduleringIngoredDurningExeccution 强制选择此节点
      3.1 也可使用nodeSelector，过时了呀
   4.apply此deployment
   
# 二  从pod内获取pod 信息（包括pod ，node ，ns等） 
   应用日志使用的daemonset部署。通过hostpath挂载到/home/log，通过filebeat收集日志入ES，无法获取到产生此日志的node pod 信息
   1. 通多downwardAPI 获取环境变量  比如 env.valuefrom.fieldref:POD_NAME:metadata.name
   2. 部署改造后的deployment，进入容器，查看环境变量
   3. 改造应用代码，将pod node信息 注入到日志中

# 三 configmap 使用配置文件
     通过filebeat 收集日志的时候。将filebeat的配置文件挂载到configmap中  实现动态更改
     但是filebeat不会自动加载此文件  需要重新apply此daemonset
